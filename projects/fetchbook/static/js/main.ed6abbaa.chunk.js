(this["webpackJsonpfetch-book"]=this["webpackJsonpfetch-book"]||[]).push([[0],{264:function(e,r,a){},270:function(e,r){},271:function(e,r){},279:function(e,r){},289:function(e,r){},290:function(e,r){},291:function(e,r){},299:function(e,r){},301:function(e,r,a){},302:function(e,r,a){"use strict";a.r(r);var t=a(41),n=a.n(t),i=a(234),o=a.n(i),s=(a(264),a(5)),c=a.n(s),l=a(11),d=a(4),h=a(259),u=a(257),g={"Afghan hound, Afghan":"hound/afghan","African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus":"african","Airedale, Airedale terrier":"airedale","American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier":"terrier/american",Appenzeller:"appenzeller","Australian terrier":"terrier/australian","Bedlington terrier":"terrier/bedlington","Bernese mountain dog":"mountain/bernese","Blenheim spaniel":"spaniel/blenheim","Border collie":"collie/border","Border terrier":"terrier/border","Boston bull, Boston terrier":"bulldog/boston","Bouvier des Flandres, Bouviers des Flandres":"bouvier","Brabancon griffon":"brabancon","Brittany spaniel":"spaniel/brittany","Cardigan, Cardigan Welsh corgi":"corgi/cardigan","Chesapeake Bay retriever":"retriever/chesapeake",Chihuahua:"chihuahua","Dandie Dinmont, Dandie Dinmont terrier":"terrier/dandie","Doberman, Doberman pinscher":"doberman","English foxhound":"hound/english","English setter":"setter/english","English springer, English springer spaniel":"springer/english",EntleBucher:"entlebucher","Eskimo dog, husky":"eskimo","French bulldog":"bulldog/french","German shepherd, German shepherd dog, German police dog, alsatian":"germanshepherd","German short/haired pointer":"pointer/german","Gordon setter":"setter/gordon","Great Dane":"dane/great","Great Pyrenees":"pyrenees","Greater Swiss Mountain dog":"mountain/swiss","Ibizan hound, Ibizan Podenco":"hound/ibizan","Irish setter, red setter":"setter/irish","Irish terrier":"terrier/irish","Irish water spaniel":"spaniel/irish","Irish wolfhound":"wolfhound/irish","Italian greyhound":"greyhound/italian","Japanese spaniel":"spaniel/japanese","Kerry blue terrier":"terrier/kerryblue","Labrador retriever":"labrador","Lakeland terrier":"terrier/lakeland",Leonberg:"leonberg","Lhasa, Lhasa apso":"lhasa","Maltese dog, Maltese terrier, Maltese":"maltese","Mexican hairless":"mexicanhairless","Newfoundland, Newfoundland dog":"newfoundland","Norfolk terrier":"terrier/norfolk","Norwegian elkhound, elkhound":"elkhound/norwegian","Norwich terrier":"terrier/norwich","Old English sheepdog, bobtail":"sheepdog/english","Pekinese, Pekingese, Peke":"pekinese","Pembroke, Pembroke Welsh corgi":"pembroke",Pomeranian:"pomeranian","Rhodesian ridgeback":"ridgeback/rhodesian",Rottweiler:"rottweiler","Saint Bernard, St Bernard":"stbernard","Saluki, gazelle hound":"saluki","Samoyed, Samoyede":"samoyed","Scotch terrier, Scottish terrier, Scottie":"terrier/scottish","Scottish deerhound, deerhound":"deerhound/scottish","Sealyham terrier, Sealyham":"terrier/sealyham","Shetland sheepdog, Shetland sheep dog, Shetland":"sheepdog/shetland","Shih/Tzu":"shihtzu","Siberian husky":"husky","Staffordshire bullterrier, Staffordshire bull terrier":"bullterrier/staffordshire","Sussex spaniel":"spaniel/sussex","Tibetan mastiff":"mastiff/tibetan","Tibetan terrier, chrysanthemum dog":"terrier/tibetan","Walker hound, Walker foxhound":"hound/walker",Weimaraner:"weimaraner","Welsh springer spaniel":"spaniel/welsh","West Highland white terrier":"terrier/westhighland","Yorkshire terrier":"terrier/yorkshire","affenpinscher, monkey pinscher, monkey dog":"affenpinscher",basenji:"basenji","basset, basset hound":"hound/basset",beagle:"beagle","black/and/tan coonhound":"coonhound","bloodhound, sleuthhound":"hound/blood",bluetick:"bluetick","borzoi, Russian wolfhound":"borzoi",boxer:"boxer",briard:"briard","bull mastiff":"mastiff/bull","cairn, cairn terrier":"cairn","chow, chow chow":"chow","clumber, clumber spaniel":"clumber","cocker spaniel, English cocker spaniel, cocker":"spaniel/cocker",collie:"collie/border","curly/coated retriever":"retriever/curly","dalmatian, coach dog, carriage dog":"dalmatian","dhole, Cuon alpinus":"dhole","dingo, warrigal, warragal, Canis dingo":"dingo","flat/coated retriever":"retriever/flatcoated","giant schnauzer":"schnauzer/giant","golden retriever":"retriever/golden",groenendael:"groenendael",keeshond:"keeshond",kelpie:"kelpie",komondor:"komondor",kuvasz:"kuvasz","malamute, malemute, Alaskan malamute":"malamute",malinois:"malinois","miniature pinscher":"pinscher/miniature","miniature poodle":"poodle/miniature","miniature schnauzer":"schnauzer/miniature","otterhound, otter hound":"otterhound",papillon:"papillon","pug, pug/dog":"pug",redbone:"redbone",schipperke:"schipperke","silky terrier, Sydney silky":"terrier/silky","soft/coated wheaten terrier":"terrier/wheaten","standard poodle":"poodle/standard","standard schnauzer":"schnauzer/miniature","toy poodle":"poodle/toy","toy terrier":"terrier/toy","vizsla, Hungarian pointer":"vizsla",whippet:"whippet","wire/haired fox terrier":"terrier/fox"},b={names:["Max","Charlie","Devin","Alex","Brooklyn","Angel","Harper","Frankie","Sasha","Taylor"],cities:["San Francisco","Rotterdam","Sydney","Nairobi","Copenhagen","Medellin","Cape Town","Porto","Paris","Milan","London"],treats:["Bones","Shoes","Jerky","Wagyu","Homework","Biscuits","Bacon","Cuddles","Long walks on the beach","Carrots"]},p=["https://images.dog.ceo/breeds/shiba/shiba-12.jpg","https://images.dog.ceo/breeds/shiba/shiba-13.jpg","https://images.dog.ceo/breeds/shiba/shiba-15.jpg","https://images.dog.ceo/breeds/shiba/shiba-16.jpg","https://images.dog.ceo/breeds/shiba/shiba-18.jpg","https://images.dog.ceo/breeds/shiba/shiba-19.jpg","https://images.dog.ceo/breeds/shiba/shiba-2.jpg","https://images.dog.ceo/breeds/shiba/shiba-4.jpg","https://images.dog.ceo/breeds/shiba/shiba-7.jpg","https://images.dog.ceo/breeds/shiba/shiba-9.jpg","https://images.dog.ceo/breeds/shiba/shiba-1.jpg"],m=a(37),f=function(){return Object(m.jsx)("h1",{children:"Fetchbook"})},j=t.memo((function(e){var r=e.imageURL,a=e.imageRef;return Object(m.jsx)("section",{className:"profile-banner",children:Object(m.jsx)("img",{className:"profile-picture",src:r,alt:"upload-preview",ref:a,loading:"lazy"})})})),k=t.memo((function(e){var r=e.stateToggle,a=e.appState,t=e.profile,n=e.prediction,i=e.handleUpload,o=e.inputRef;return Object(m.jsxs)("article",{className:"profile-text",children:[Object(m.jsxs)("section",{className:"profile-info",children:[Object(m.jsx)("button",{onClick:r[a].action||function(){},children:r[a].text}),Object(m.jsxs)("p",{children:["Name: ",t.name]}),Object(m.jsxs)("p",{children:["City: ",t.city]}),Object(m.jsxs)("p",{children:["Favorite Treat: ",t.treat]}),Object(m.jsxs)("p",{children:["Breed: ",n.probability,"% chance of ",n.breed]})]}),Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{className:"imageInputLabel",htmlFor:"imageInput",children:"Upload Image"}),Object(m.jsx)("input",{id:"imageInput",name:"imageInput",type:"file",accept:"image/*",onChange:i,ref:o})]})]})})),y=a(258),x=t.memo((function(e){var r=e.images,a=t.useState(r),n=Object(d.a)(a,2),i=n[0],o=n[1],s=t.useState(!0),c=Object(d.a)(s,2),l=c[0],h=c[1];t.useEffect((function(){o(r)}),[r]);return Object(m.jsxs)("div",{className:"carousel-outer",children:[Object(m.jsxs)("p",{className:"carousel-friend-count",children:["Friends (",r.length,")"]}),Object(m.jsx)(y.a,{dataLength:i.length,next:function(){i.length>=500?h(!1):setTimeout((function(){o((function(e){return e.concat(e)}))}),500)},hasMore:l,loader:Object(m.jsx)("h4",{}),endMessage:Object(m.jsx)("p",{style:{textAlign:"center"},children:Object(m.jsx)("b",{children:"Down to the bone! \ud83e\uddb4"})}),children:i.map((function(e,r){return Object(m.jsx)("div",{className:"carousel-image",children:Object(m.jsx)("img",{src:e,alt:"",loading:"lazy"})},"image"+r)}))})]})})),w=(a(301),{initial:"initial",states:{initial:{next:"fetchingData"},fetchingData:{next:"dataReady"},dataReady:{next:"imageReady"},imageReady:{next:"scanning"},scanning:{next:"dataReady"}}}),v=function(){h.a("cpu");var e=t.useState("https://pbs.twimg.com/media/E3oJUg1XIAkDQVK?format=jpg&name=large"),r=Object(d.a)(e,2),a=r[0],n=r[1],i=t.useState(null),o=Object(d.a)(i,2),s=o[0],y=o[1],v=t.useState(p),O=Object(d.a)(v,2),S=O[0],z=O[1],B=t.useState({name:"Bodhi",city:"New York",treat:"Kith"}),R=Object(d.a)(B,2),N=R[0],A=R[1],M=t.useState({breed:"Shiba",probability:"100"}),C=Object(d.a)(M,2),D=C[0],I=C[1],L=t.useRef(),E=t.useRef(),F=t.useReducer((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next";return w.states[e][r]||w.initial}),w.initial),P=Object(d.a)(F,2),U=P[0],T=P[1],G=function(){return T()};t.useEffect((function(){document.title="".concat(N.name," | Fetchbook")}),[N.name]);var W=function(){var e=Object(l.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(),e.next=3,u.a({version:2,alpha:1});case 3:r=e.sent,y(r),G();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://dog.ceo/api/breed/".concat(g[r],"/images/random/").concat((a=20,t=50,a=Math.ceil(a),t=Math.floor(t),Math.floor(Math.random()*(t-a)+a)))).then((function(e){return e.json()})).then((function(e){return Array.isArray(e.message)&&"error"!==e.status?z(e.message):z([])})).catch((function(){z([])}));case 1:case"end":return e.stop()}var a,t}),e)})));return function(r){return e.apply(this,arguments)}}(),H=function(e){return b[e][~~(Math.random()*b[e].length)]},K={initial:{action:W,text:"Fetch Data"},fetchingData:{text:"Fetching..."},dataReady:{action:function(){var e;return null===(e=E.current)||void 0===e?void 0:e.click()},text:"Upload New Dog"},imageReady:{action:function(){var e=Object(l.a)(c.a.mark((function e(){var r,a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(),e.next=3,null===s||void 0===s?void 0:s.classify(L.current,1);case 3:r=e.sent,a=r[0].className,t=Math.floor(100*r[0].probability).toString(),I({breed:a,probability:t}),g[a]?(J(a),A({name:H("names"),city:H("cities"),treat:H("treats")})):(A({name:"N/A",city:"N/A",treat:"N/A"}),z([])),G();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),text:"Update Profile"},scanning:{text:"Scanning..."}};return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{}),Object(m.jsx)(j,{imageURL:a,imageRef:L}),Object(m.jsx)(k,{stateToggle:K,appState:U,profile:N,prediction:D,handleUpload:function(e){var r=e.target.files,a=URL.createObjectURL(e.target.files[0]);/^image\/+/.test(r[0].type)&&(n(a),G())},inputRef:E}),Object(m.jsx)(x,{images:S})]})};o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.ed6abbaa.chunk.js.map